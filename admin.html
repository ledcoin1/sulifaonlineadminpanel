<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body { font-family: Arial; background:#111; color:white; text-align:center; }
input, button { margin: 5px; padding: 8px; border-radius: 6px; }
</style>
</head>
<body>
<h2>Admin Panel</h2>

<input id="adminKey" type="text" placeholder="Admin Key" />
<button onclick="loadPlayers()">Load Players</button>

<div id="players"></div>

<script>
const API = "https://sulifaonlinerender.onrender.com";

async function loadPlayers() {
  const key = document.getElementById("adminKey").value;
  const res = await fetch(`${API}/admin/players?key=${key}`);
  const players = await res.json();
  const container = document.getElementById("players");
  container.innerHTML = "";
  players.forEach(p => {
    const div = document.createElement("div");
    div.innerHTML = `${p.firstName} (@${p.username}) - Balance: ${p.balance} 
      <button onclick="addBalance('${key}','${p.telegramId}')">+10</button>`;
    container.appendChild(div);
  });
}

async function addBalance(key, telegramId) {
  const res = await fetch(`${API}/admin/add-balance`, {
    method: "POST",
    headers: { "Content-Type":"application/json" },
    body: JSON.stringify({ key, telegramId, amount:10 })
  });
  loadPlayers();
}
</script>
</body>
</html>
